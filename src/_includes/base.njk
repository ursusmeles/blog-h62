<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="canonical" href="https://blog.h62.pl{{ page.url }}">
  <title>{{ title or 'Blog o RPG'}} | Heliocantharus RPG</title>

  <meta name="description" content="{{ description or 'Materiały RPG, tabele i poradniki do stylu gry typu sandbox' }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://blog.h62.pl{{ page.url }}">
  <meta property="og:title" content="{{ title or 'Blog o RPG'}} | Heliocantharus RPG">
  <meta property="og:description" content="{{ description or 'Materiały RPG, tabele i poradniki do stylu gry typu sandbox' }}">
  <meta property="og:image" content="https://blog.h62.pl/images/{{ og_image or 'heliocantharus.png' }}">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ title or 'Blog o RPG'}} | Heliocantharus RPG">
  <meta name="twitter:description" content="{{ description or 'Materiały RPG, tabele i poradniki do stylu gry typu sandbox' }}">
  <meta name="twitter:image" content="https://blog.h62.pl/images/{{ og_image or 'heliocantharus.png' }}">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="Helio62" />
  <link rel="manifest" href="/site.webmanifest" />
  <script>
  const storageKey = 'helio-theme-pref';
  const getColorPreference = () => {
    if (localStorage.getItem(storageKey)) return localStorage.getItem(storageKey);
    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
  };

  document.documentElement.setAttribute('data-theme', getColorPreference());
</script>
</head>
<body>
  <a href="#main-content" class="skip-link">Przejdź do treści</a>

{% include "header.njk" %}

<main id="main-content" tabindex="-1">
  {{ content | safe }}
</main>

{% include "footer.njk" %}
<script>
  const toggle = document.querySelector('#theme-toggle');
  const root = document.documentElement;

  if (toggle) {
    toggle.addEventListener('click', () => {
      const currentTheme = root.getAttribute('data-theme');
      const nextTheme = currentTheme === 'light' ? 'dark' : 'light';
      
      root.setAttribute('data-theme', nextTheme);
      localStorage.setItem('helio-theme-pref', nextTheme);
    });
  }
</script>
</body>
</html>